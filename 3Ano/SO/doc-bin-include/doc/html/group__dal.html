<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sofs19: dal</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sofs19
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">FUSE based file system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__dal.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dal</div>  </div>
</div><!--header-->
<div class="contents">

<p>Disk abstraction layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae56010816efd5b7f91706114cea04464"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gae56010816efd5b7f91706114cea04464">soOpenDisk</a> (const char *devname)</td></tr>
<tr class="memdesc:gae56010816efd5b7f91706114cea04464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open disk at sofs19 abstraction level.  <a href="group__dal.html#gae56010816efd5b7f91706114cea04464">More...</a><br /></td></tr>
<tr class="separator:gae56010816efd5b7f91706114cea04464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e4ac7fd7b631f467a95a81be615e832"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga3e4ac7fd7b631f467a95a81be615e832">soCloseDisk</a> ()</td></tr>
<tr class="memdesc:ga3e4ac7fd7b631f467a95a81be615e832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close disk at sofs19 abstraction level.  <a href="group__dal.html#ga3e4ac7fd7b631f467a95a81be615e832">More...</a><br /></td></tr>
<tr class="separator:ga3e4ac7fd7b631f467a95a81be615e832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac999034144720fcd59d3100d1075b5f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gac999034144720fcd59d3100d1075b5f1">soOpenSuperBlock</a> ()</td></tr>
<tr class="memdesc:gac999034144720fcd59d3100d1075b5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the superblock dealer.  <a href="group__dal.html#gac999034144720fcd59d3100d1075b5f1">More...</a><br /></td></tr>
<tr class="separator:gac999034144720fcd59d3100d1075b5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbcfa5998437b0c7c3e6c960553b41ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gabbcfa5998437b0c7c3e6c960553b41ce">soCloseSuperBlock</a> ()</td></tr>
<tr class="memdesc:gabbcfa5998437b0c7c3e6c960553b41ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the superblock dealer.  <a href="group__dal.html#gabbcfa5998437b0c7c3e6c960553b41ce">More...</a><br /></td></tr>
<tr class="separator:gabbcfa5998437b0c7c3e6c960553b41ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab332839ff9a294310f06de20bedaa838"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gab332839ff9a294310f06de20bedaa838">soSaveSuperBlock</a> ()</td></tr>
<tr class="memdesc:gab332839ff9a294310f06de20bedaa838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save superblock to disk.  <a href="group__dal.html#gab332839ff9a294310f06de20bedaa838">More...</a><br /></td></tr>
<tr class="separator:gab332839ff9a294310f06de20bedaa838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fbb000c36319266f7704d647b7cd5ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsofs19_1_1_s_o_super_block.html">SOSuperBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga7fbb000c36319266f7704d647b7cd5ba">soGetSuperBlockPointer</a> ()</td></tr>
<tr class="memdesc:ga7fbb000c36319266f7704d647b7cd5ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the superblock.  <a href="group__dal.html#ga7fbb000c36319266f7704d647b7cd5ba">More...</a><br /></td></tr>
<tr class="separator:ga7fbb000c36319266f7704d647b7cd5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0debb0d77edebdee759e37a24f1381a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gaf0debb0d77edebdee759e37a24f1381a">soOpenInodeTable</a> ()</td></tr>
<tr class="memdesc:gaf0debb0d77edebdee759e37a24f1381a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open inode table dealer.  <a href="group__dal.html#gaf0debb0d77edebdee759e37a24f1381a">More...</a><br /></td></tr>
<tr class="separator:gaf0debb0d77edebdee759e37a24f1381a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e9ca96a36aa77f198e0bbe37fa2c031"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga4e9ca96a36aa77f198e0bbe37fa2c031">soCloseInodeTable</a> ()</td></tr>
<tr class="memdesc:ga4e9ca96a36aa77f198e0bbe37fa2c031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the inode table dealer.  <a href="group__dal.html#ga4e9ca96a36aa77f198e0bbe37fa2c031">More...</a><br /></td></tr>
<tr class="separator:ga4e9ca96a36aa77f198e0bbe37fa2c031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad560ded6082ffc08ee8b972981d037fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gad560ded6082ffc08ee8b972981d037fc">soOpenInode</a> (uint32_t in)</td></tr>
<tr class="memdesc:gad560ded6082ffc08ee8b972981d037fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">open inode  <a href="group__dal.html#gad560ded6082ffc08ee8b972981d037fc">More...</a><br /></td></tr>
<tr class="separator:gad560ded6082ffc08ee8b972981d037fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6456c4dd28a6f0bd22080a55e7547dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gad6456c4dd28a6f0bd22080a55e7547dc">soCheckInodeHandler</a> (int ih, const char *funcname=__FUNCTION__)</td></tr>
<tr class="memdesc:gad6456c4dd28a6f0bd22080a55e7547dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check given handler, throwing an exception in case of error.  <a href="group__dal.html#gad6456c4dd28a6f0bd22080a55e7547dc">More...</a><br /></td></tr>
<tr class="separator:gad6456c4dd28a6f0bd22080a55e7547dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61c1e353219bc0943fcea6ac274ca57b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsofs19_1_1_s_o_inode.html">SOInode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga61c1e353219bc0943fcea6ac274ca57b">soGetInodePointer</a> (int ih)</td></tr>
<tr class="memdesc:ga61c1e353219bc0943fcea6ac274ca57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">get pointer to an open inode  <a href="group__dal.html#ga61c1e353219bc0943fcea6ac274ca57b">More...</a><br /></td></tr>
<tr class="separator:ga61c1e353219bc0943fcea6ac274ca57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0a2f587209452433149d7208481535e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gae0a2f587209452433149d7208481535e">soSaveInode</a> (int ih)</td></tr>
<tr class="memdesc:gae0a2f587209452433149d7208481535e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save an open inode to disk.  <a href="group__dal.html#gae0a2f587209452433149d7208481535e">More...</a><br /></td></tr>
<tr class="separator:gae0a2f587209452433149d7208481535e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga960426a5c6ceb0d96c2c1f1b0463dcbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga960426a5c6ceb0d96c2c1f1b0463dcbc">soCloseInode</a> (int ih)</td></tr>
<tr class="memdesc:ga960426a5c6ceb0d96c2c1f1b0463dcbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an open inode.  <a href="group__dal.html#ga960426a5c6ceb0d96c2c1f1b0463dcbc">More...</a><br /></td></tr>
<tr class="separator:ga960426a5c6ceb0d96c2c1f1b0463dcbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57e5ac9cbbc330c65ad9d97f291388c3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga57e5ac9cbbc330c65ad9d97f291388c3">soGetInodeNumber</a> (int ih)</td></tr>
<tr class="memdesc:ga57e5ac9cbbc330c65ad9d97f291388c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of the inode associated to the given handler.  <a href="group__dal.html#ga57e5ac9cbbc330c65ad9d97f291388c3">More...</a><br /></td></tr>
<tr class="separator:ga57e5ac9cbbc330c65ad9d97f291388c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ec23b5a338731e1119f84b6af8968d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga6ec23b5a338731e1119f84b6af8968d3">soCheckInodeAccess</a> (int ih, int access)</td></tr>
<tr class="memdesc:ga6ec23b5a338731e1119f84b6af8968d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">check an open inode against a requested access  <a href="group__dal.html#ga6ec23b5a338731e1119f84b6af8968d3">More...</a><br /></td></tr>
<tr class="separator:ga6ec23b5a338731e1119f84b6af8968d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab33447eb158a1231d7d8b6023307a702"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#gab33447eb158a1231d7d8b6023307a702">soReadDataBlock</a> (uint32_t bn, void *buf)</td></tr>
<tr class="memdesc:gab33447eb158a1231d7d8b6023307a702"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block of the data zone.  <a href="group__dal.html#gab33447eb158a1231d7d8b6023307a702">More...</a><br /></td></tr>
<tr class="separator:gab33447eb158a1231d7d8b6023307a702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81a14014c7a40e9092a0b87030243477"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dal.html#ga81a14014c7a40e9092a0b87030243477">soWriteDataBlock</a> (uint32_t bn, void *buf)</td></tr>
<tr class="memdesc:ga81a14014c7a40e9092a0b87030243477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block of the data zone.  <a href="group__dal.html#ga81a14014c7a40e9092a0b87030243477">More...</a><br /></td></tr>
<tr class="separator:ga81a14014c7a40e9092a0b87030243477"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Disk abstraction layer. </p>
<p>This layer is used to prevent higher level functions from access disk blocks at raw level. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae56010816efd5b7f91706114cea04464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae56010816efd5b7f91706114cea04464">&#9670;&nbsp;</a></span>soOpenDisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soOpenDisk </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>devname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open disk at sofs19 abstraction level. </p>
<p>Open disk at raw level and then open superblok (SB) and inode table (IT) abstraction modules. The other sofs19 abstraction modules do not need to be initialized. They are: free inode list table (FILT) module, free block list table (FBLT) module, and data zone (DZ) module. </p>

</div>
</div>
<a id="ga3e4ac7fd7b631f467a95a81be615e832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e4ac7fd7b631f467a95a81be615e832">&#9670;&nbsp;</a></span>soCloseDisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soCloseDisk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close disk at sofs19 abstraction level. </p>
<p>First close sofs19 abstraction modules and then close disk at raw level. </p>

</div>
</div>
<a id="gac999034144720fcd59d3100d1075b5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac999034144720fcd59d3100d1075b5f1">&#9670;&nbsp;</a></span>soOpenSuperBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soOpenSuperBlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the superblock dealer. </p>
<p>Prepare the internal data structure of the superblock dealer </p>

</div>
</div>
<a id="gabbcfa5998437b0c7c3e6c960553b41ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabbcfa5998437b0c7c3e6c960553b41ce">&#9670;&nbsp;</a></span>soCloseSuperBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soCloseSuperBlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the superblock dealer. </p>
<p>Save superblock to disk and close dealer Do nothing if not loaded </p>

</div>
</div>
<a id="gab332839ff9a294310f06de20bedaa838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab332839ff9a294310f06de20bedaa838">&#9670;&nbsp;</a></span>soSaveSuperBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soSaveSuperBlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save superblock to disk. </p>
<p>Do nothing if not loaded </p>

</div>
</div>
<a id="ga7fbb000c36319266f7704d647b7cd5ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fbb000c36319266f7704d647b7cd5ba">&#9670;&nbsp;</a></span>soGetSuperBlockPointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsofs19_1_1_s_o_super_block.html">SOSuperBlock</a>* sofs19::soGetSuperBlockPointer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the superblock. </p>
<p>Load the superblock, if not done yet</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the superblock </dd></dl>

</div>
</div>
<a id="gaf0debb0d77edebdee759e37a24f1381a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0debb0d77edebdee759e37a24f1381a">&#9670;&nbsp;</a></span>soOpenInodeTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soOpenInodeTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open inode table dealer. </p>
<p>Prepare the internal data structure for the inode table dealer </p>

</div>
</div>
<a id="ga4e9ca96a36aa77f198e0bbe37fa2c031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e9ca96a36aa77f198e0bbe37fa2c031">&#9670;&nbsp;</a></span>soCloseInodeTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soCloseInodeTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the inode table dealer. </p>
<p>Save to disk all openning inodes and close dealer </p>

</div>
</div>
<a id="gad560ded6082ffc08ee8b972981d037fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad560ded6082ffc08ee8b972981d037fc">&#9670;&nbsp;</a></span>soOpenInode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sofs19::soOpenInode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>open inode </p>
<p>If inode is already open, just increment usecount; otherwise, transfer the inode from disk and put usecount at 1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>the number of the inode to open </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>inode handler </dd></dl>

</div>
</div>
<a id="gad6456c4dd28a6f0bd22080a55e7547dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6456c4dd28a6f0bd22080a55e7547dc">&#9670;&nbsp;</a></span>soCheckInodeHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soCheckInodeHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ih</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>funcname</em> = <code>__FUNCTION__</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check given handler, throwing an exception in case of error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ih</td><td>the handler to be checked </td></tr>
    <tr><td class="paramname">funcname</td><td>name of the function making the ckeck </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga61c1e353219bc0943fcea6ac274ca57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61c1e353219bc0943fcea6ac274ca57b">&#9670;&nbsp;</a></span>soGetInodePointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsofs19_1_1_s_o_inode.html">SOInode</a>* sofs19::soGetInodePointer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ih</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get pointer to an open inode </p>
<p>A pointer to the <a class="el" href="structsofs19_1_1_s_o_inode.html" title="Definition of the inode data type. ">SOInode</a> structured where the inode is loaded is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ih</td><td>inode handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the inode </dd></dl>

</div>
</div>
<a id="gae0a2f587209452433149d7208481535e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0a2f587209452433149d7208481535e">&#9670;&nbsp;</a></span>soSaveInode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soSaveInode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ih</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save an open inode to disk. </p>
<p>The inode is not closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ih</td><td>inode handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga960426a5c6ceb0d96c2c1f1b0463dcbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga960426a5c6ceb0d96c2c1f1b0463dcbc">&#9670;&nbsp;</a></span>soCloseInode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soCloseInode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ih</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close an open inode. </p>
<p>Decrement usecount of given inode, releasing slot if 0 is reached.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ih</td><td>inode handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga57e5ac9cbbc330c65ad9d97f291388c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57e5ac9cbbc330c65ad9d97f291388c3">&#9670;&nbsp;</a></span>soGetInodeNumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t sofs19::soGetInodeNumber </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ih</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of the inode associated to the given handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ih</td><td>inode handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>inode number </dd></dl>

</div>
</div>
<a id="ga6ec23b5a338731e1119f84b6af8968d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ec23b5a338731e1119f84b6af8968d3">&#9670;&nbsp;</a></span>soCheckInodeAccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sofs19::soCheckInodeAccess </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ih</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>access</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check an open inode against a requested access </p>
<p>access is a bitwise OR of one or more of R_OK, W_OK, and X_OK </p><dl class="section see"><dt>See also</dt><dd>man 2 access </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ih</td><td>inode handler </td></tr>
    <tr><td class="paramname">access</td><td>requested access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, for access granted; false for access denied </dd></dl>

</div>
</div>
<a id="gab33447eb158a1231d7d8b6023307a702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab33447eb158a1231d7d8b6023307a702">&#9670;&nbsp;</a></span>soReadDataBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soReadDataBlock </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a block of the data zone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bn</td><td>number of block to be read </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>pointer to the buffer where the data must be read into </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga81a14014c7a40e9092a0b87030243477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81a14014c7a40e9092a0b87030243477">&#9670;&nbsp;</a></span>soWriteDataBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sofs19::soWriteDataBlock </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a block of the data zone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bn</td><td>number of block to be read </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>pointer to the buffer where the data must be written from </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
